{% load app_filters %}
<head>
    <title>Report {{ report.date }}</title>
</head>
<h1>{% block title %}Techcon Project Report{% endblock %}</h1>
<a href='/projtrack3/report_page/'>Return to the report generation page.</a>
<br/>
<br/>
{% block content %}
{% csrf_token %}
Date: {{ report.date }}<br/>
Total Projects: {{ report.total_projects }}<br/>
Total Hours: {{ report.total_hours }}<br/>
Walk-ins: {{ report.walk_ins }} ({{ report.walk_in_percent }}%)<br/>
<h3>Projects per User</h3><br/>
<table>

</table><br/>
<h3>Projects per Department</h3><br/>
<table>
    {% for key in report.depts %}
    <tr>
        <td>{{ key }}  {{ report.depts|get_item:item.key }}</td>
    </tr>
    {% endfor %}
</table><br/>
<h3>Projects per Type</h3><br/>
<table>
    {% for key in report.types %}
    <tr>
        <td>{{ key }} {{ report.types|get_item:item.key }}</td>
    </tr>
    {% endfor %}
</table><br/>
<h3>Statistics</h3><br/>
<table>
    <tr>
        <td><h4>Active Developers</h4></td>
        <td>{{ report.stats.active_devs }}</td>
    </tr>
    <tr>
        <td>Average Projects per Developer</td>
        <td>{{ report.stats.average_proj }}</td>
    </tr>
    <tr>
        <td>Average Hours per Developer</td>
        <td>{{ report.stats.average_hour }}</td>
    </tr>
</table><br/>
<h3>Projects</h3><br/>
{% for x in report.project_list %}
<p>{{ x.title }} {{ x.client }} {{ x.users }} {{ x.semester }} {{ x.date }}</p>
<p>{{ x.description }}</p>
<br/>
{% endfor %}
{% endblock %}
